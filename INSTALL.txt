 
Incorporated Research Institutions for Seismology (IRIS)
 Data Management Center (DMC)
 Data Products Team

 Earth Model Collaboration (EMC)
 EMC Model Explorer - an  EMC Notebook
 Release: r0.5

 2022-10-05

------------------------------------------------------------------------------------------------------------------------

 DESCRIPTION:

 The "emc_model_explorer.ipynb" file under the "notebooks" directory is a Python 3 Jupyter Notebook that facilitates
 exploring the content of an EMC Earth model file in netCDF format. This notebook provides the following
 functionalities:
    - Reads 2D and 3D EMC-compatible netCDF Earth model files in geographic coordinate system
    - Displays model metadata (in netCDF or GeoCSV formats)
    - Plots map of the model's coverage area
    - Plots horizontal slices (maps), vertical slices (cross sections), and velocity profiles (line plots vs depth)
      from the model data
    - Saves the generated plots and their corresponding data
    - Outputs the entire netCDF file or a selected portion of it in GeoCSV format 

REQUIREMENTS:
    - JupyterLab or Jupyter Notebook (https://jupyter.org/)
    - Python 3
    - Python module(s) needed:
        . xarray
        . netCDF4
        . numpy
        . scipy
        . cartopy
        . matplotlib
        . jupyterlab
        . nodejs
        . ipywidgets
        . ipyfilechooser
        . request

   - this package has been tested under Python 3.10.06 on macOS 12.5.1 (may work with older Python 3 versions)

 PACKAGE INSTALLATION:

       unpack the package
            . "notebook" directory contains the notebook and the utility file
            . "assets" directory under the notebook directory contains sample images displayed by the notebook
            . "data" directory where the notebook looks for the netCDF model files to read
            . "samples" directory of sample netCDF model files
            . "out" directory to store the files generated by the notebook

 GET STARTED:

    After installing all the required packages listed under the REQUIREMENTS section above:
        1. Go to the installation directory of this package, where this INSTALL.tx file exists
        3. Start Jupyter Notebook or JupyterLab using:
                jupyter lab
                or
                jupyter notebook
           Jupyter Lab/Notebook will open automatically in your browser
        4. In the left sidebar click on the "notebooks" folder
        5. Click on the main Notebook file: emc_model_explorer.ipynb. This should open a "mc_model_explorer.ipynb"
           tab and load the notebook
        6. After it is loaded, if the Python code cells are visible, go to Jupyter's top menu and  under the "View" menu,
           click on the "Collapse All Code" for easier navigation

        7. At this point you are ready to run the notebook. Start with the automated run as described in the next
           paragraph to familiarize yourself with the notebook's structure. However, it would be the best if you read
           sections 8 and 9 below before trying the automated run.

           This package comes with a 'samples' directory preloaded with a few EMC netCDF file for testing. For the
           automated test run, just run the notebook as it is, via the "Restart and Run all" option (>>) from the
           Jupyter menu. It should load a sample model file from the samples directory, and display information and
           plots for that model.

        8. Jupyter notebooks are composed of cells that you could run individually. This notebook has two general type
           of Cells:
                8.1 Header cells that contain information. Running these cells are not required. If these cells are
                    not well formatted, you are probably looking at the code behind the header cell, just run that cell
                    using the run button ">" from the Jupyter menu.
                8.2 Code cells that are the main Python code behind this notebook. The code cells are of two types:
                    8.2.1 [R] Required. You need to run these cells using the ">" button or Shift+Enter. You MUST
                          run these cells in order. The "Import Modules" cell may take a few seconds to load all
                          the modules and libraries. Proceed after you see "...import done!"
                    8.2.2 [O] Optional. These cells provide different type of information about the EMC model file
                           and you can run them in any order.
        9. Read the content of the Header files as you go through the notebook. These header files have information on
           the next code cell.



